{% extends "accounts/accounts_base.html" %}

{% block title_tag %}Circle{% endblock %}

{% block page_header_primary %}Profile{% endblock page_header_primary %}

{% block page_header_secondary %}
<button class="button button-primary icon-on-left" type="submit" form="upform">Save Changes</button>
  <!-- <input id="submit-upform" class="button button-primary icon-on-left" type="submit" form="upform"> -->
  <!-- <label for="submit-upform">Submit</label> -->
  
  <!-- <a class="button button-primary icon-on-left" href="{% url 'accounts:profile' %}">
    Save Changes
  </a> -->
{% endblock page_header_secondary %}

{% block page_main_body %}
  <form id="upform" method="POST" action="{% url 'accounts:profile_edit' %}">
    {% csrf_token %}

    {{ up_form.non_field_errors }}

    {# if we have any hidden forms #}
    {% for hf in up_form.hidden_fields %}
      {{ hf.errors }}
      {{ hf }}
    {% endfor %}

    {% for field in up_form.visible_fields %}
      {{ field.errors }}
      {{ field }}
      {{ field.help_text }}
    {% endfor %}

    <!-- <input id="id_name" type="text" value="Wendy McElroy" placeholder="Full Name" class="circle--input--h1">
    <div class="circle--article--body">
      <textarea placeholder="Tell us about yourself...">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</textarea>
    </div> --> <!-- end .--article--body -->
  </form>
  
  <h2>Past Projects</h2>
  <table class="u-full-width circle--table">
    <thead>
      <tr>
        <th>Project Title</th>
        <th class="circle--cell--right">Project Needs</th>
      </tr>
    </thead>
    <tbody>
      <tr class="clickable-row" data-href="project.html">
        <td>
          <h3>Invoice Delivery Tool</h3>
        </td>
        <td class="circle--cell--right">
          <span class="secondary-label">Rails Developer</span>
        </td>
      </tr>
      <tr class="clickable-row" data-href="project.html">
        <td>
          <h3>Twitter Client</h3>
        </td>
        <td class="circle--cell--right">
          <span class="secondary-label">Designer</span>
        </td>
      </tr>
    </tbody>
  </table>

<h1>GENERATED FORMS...</h1>
<h2>UP</h2>
{{ up_form }}
<h2>A</h2>
{{ a_form }}
<h1>...END GENERATED FORM</h1>

{% endblock page_main_body %}

{% block page_right_sidebar_avatar_input %}
  <form id="aform"
        method="POST" 
        action="{% url 'accounts:avatar_add' %}"
        enctype="multipart/form-data">
    
    {% csrf_token %}

    {{ a_form.non_field_errors }}

    {# if we have any hidden forms #}
    {% for hf in a_form.hidden_fields %}
      {{ hf.errors }}
      {{ hf }}
    {% endfor %}

    <!-- extracted code goes here -->

    <button class="button" type="submit">
      Upload Photo
      <input type="file" name="avatar" accept="image/*" id="id_avatar" onchange="form.submit()">
    </button>

    <!-- <a class="button">
      Upload Photo
      <input type="file" name="avatar" accept="image/*" id="id_avatar">
    </a> -->
  </form>
{% endblock page_right_sidebar_avatar_input %}

{% block page_right_sidebar %}
  <div class="circle--secondary--module">
    <h4>My Skills</h4>
    <ul class="circle--clone--list">
      <li>
        <input type="text" placeholder="Skill">
        <a class="circle--clone--add">Add Skill</a>
        <a class="circle--clone--remove">Remove</a>
      </li>
    </ul>
  </div> <!-- end .--secondary--module -->

  <div class="circle--secondary--module">
    <h4>My Projects</h4>
    <ul class="circle--clone--list">
      <li>
        <input type="text" placeholder="Project Name">
        <input type="text" placeholder="Project URL">
        <a class="circle--clone--add">Add Project</a>
        <a class="circle--clone--remove">Remove</a>
      </li>
    </ul>
  </div> <!-- end .--secondary--module -->

  {% endblock page_right_sidebar %}